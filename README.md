## Chat Server
Version: 1.1
## Описание
Чат c использованием Spring WebSocket + Web + Thymeleaf + MongoDB. Приложение выполняет роль сервера для чата. В проект встроен web клиент на Thymeleaf. Есть отдельный [консольный клиент](https://github.com/Radeckiy/chatClient "ссылка на гит").
## О проекте
Язык программирования: **Java**

Сборщик: **Maven**

Используемые технологии: 
- **Spring Boot**
- **Spring Web**
- **Spring Thymeleaf**
- **Spring MongoDB**

Настройки БД находятся по пути: `src/main/resources/application.properties`. 

Проект представляет собой сервер чата со встроенным web клиентом, Rest точкой для получения всех написанных сообщений (по id, по отправителю или просто всех) с паджинацией. Помимо этого есть десктопный консольный клиент (ссылка в самом начале). Также в проекте есть 'фейсконтроллер', который пускает клиентов, только с определенными именами, список которых содержится в настройках (`src/main/resources/application.properties`).

Рабочая зона (`src/main/java/com.radecky.chat/`) содержит файлы:
- ***configs*** - содержит конфиг для WebSocket'а;
- ***controllers*** - содержит 3 контроллера (один для Thymeleaf, второй для Rest точки, третий для WebSocket'а);
- ***interceptors*** - содержит HttpHandshakeInterceptor для 'рукопожатия' через http;
- ***listeners*** - содержит слушателя для WebSocket'а;
- ***models*** - содержит модель сообщения, а также enum для перечисления типов сообщений; 
- ***repositories*** - там хранится интерфейс репозитория.

Запуск приложения можно произвести как из терминала (командой - `mvn spring-boot:run`), так и посредством обычного запуска из IDE.

После запуска по адресу [localhost:8080](https://localhost:8080 "Клик ми") будет доступно само приложение, а по адресу `http://localhost:8080/messages` будет достпуна Rest точка для `GET` запросов со следующими параметрами:
- ***page*** - номер страницы, по дефолту - 0 (размер страницы - 10 записей);
- ***sender*** - имя отправителя, чтобы получить все его сообщения; 
- ***id*** - id конкретного сообщения.

В ответе будут один или более объектов типа Message (в случае с id соответсовенно - один).
 
## Короткий обзор приложения
При переходе по по адресу [localhost:8080](https://localhost:8080 "Клик ми") пользователя, если его сессия не записана (он не авторизован), перенаправляют на страницу авторизации, которая выглядит следующим образом:

 ![preview1](https://sun9-69.userapi.com/c858436/v858436544/7d311/uuXE-AXYZ5M.jpg "Превью приложения")
 
 В случае же, если пользователь авторизован или авторизовался на текущий момент, то происходит редирект на основную страницу:
 
 ![preview2](https://sun9-67.userapi.com/c858436/v858436544/7d31b/aPrf2UujFlU.jpg "Превью поиска")
 
 На странице есть 2 блока, первый - с никнеймом пользователя и кнопкой Logout, которая позволяет выйти, а второй блок - основной блок с сообщениями.
 